<!DOCTYPE html>
<html>
<style>
    body { font-family: 'Kanit', sans-serif; background-color: #f0f2f5; text-align: center; padding: 50px; }
    .card { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); display: inline-block; }
    h1 { color: #2c3e50; }
    .moisture-val { font-size: 48px; color: #3498db; font-weight: bold; }
    button { padding: 10px 20px; font-size: 16px; margin: 10px; border: none; border-radius: 5px; cursor: pointer; transition: 0.3s; }
    .btn-on { background-color: #2ecc71; color: white; }
    .btn-off { background-color: #e74c3c; color: white; }
    button:hover { opacity: 0.8; transform: scale(1.05); }
</style>
<head>
    <title>Smart Farm Control</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
    <h1>ระบบรดน้ำอัตโนมัติ</h1>
    <p>ความชื้นในดิน: <span id="moisture">--</span> %</p>
    <button onclick="controlPump(true)">เปิดปั๊มน้ำ</button>
    <button onclick="controlPump(false)">ปิดปั๊มน้ำ</button>

    <script>
        // ใส่ Config จาก Firebase ของคุณตรงนี้
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            databaseURL: "YOUR_DATABASE_URL",
            projectId: "YOUR_PROJECT_ID",
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // ดึงค่าความชื้นแบบ Real-time
        db.ref("moisture").on("value", (snapshot) => {
            document.getElementById("moisture").innerText = snapshot.val();
        });

        // ฟังก์ชันสั่งเปิด-ปิด
        function controlPump(status) {
            db.ref("/").update({ pumpStatus: status });
        }
    </script>
</body>
</html>
